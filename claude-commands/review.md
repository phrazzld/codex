# REVIEW

> Execute each task in the order given to conduct a thorough code review.

## 1. Create diff.md

Create a new file called diff.md.

Copy the content from `prompts/review.md` into `diff.md`.

Add a "## Diff" section at the end of the file:
```markdown
## Diff
```

# 2. Run git diff and append to diff.md
Run git diff against the master branch (or relevant base branch) and append the results to diff.md.

# 3. Ask architect to run the code review.
- Find the top ten most relevant files for additional context
- Run architect --instructions diff.md --output-dir architect_output --model gemini-2.5-pro-preview-03-25 --model gemini-2.5-pro-exp-03-25 --model gemini-2.0-flash docs/DEVELOPMENT_PHILOSOPHY.md [top-ten-relevant-files]
- Review all files in the architect_output directory
- ***Think hard*** about the different model outputs and create a single synthesized file that combines the best elements and insights from all outputs: `CODE_REVIEW.md`
- If you encounter an error, write the full log output -- including the error -- to a logfile. Then try again.

# 4. Review the Code Review (CODE_REVIEW.MD)
Read the code review generated by architect. Verify it includes feedback across all dimensions of our standards:

- Design principles (CORE_PRINCIPLES.md)
- Architectural patterns (ARCHITECTURE_GUIDELINES.md)
- Code quality (CODING_STANDARDS.md)
- Test quality (TESTING_STRATEGY.md)
- Documentation practices (DOCUMENTATION_APPROACH.md)

Create a single, consolidated CODE_REVIEW.MD file summarizing the findings and actionable recommendations, organizing feedback by these dimensions where relevant, and including the summary table requested in the prompt.
